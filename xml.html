<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>libstochbb - Stochastic Building Blocks: Process &amp; simulation description in XML</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libstochbb - Stochastic Building Blocks
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">Assemble arbitrary samplers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Process &amp; simulation description in XML </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In constrast to the <a class="el" href="api.html">Application programming interface</a>, complex processes can also be defined in XML and analyzed using the StochBB command line tool (see <a class="el" href="cli.html">Command line interface</a>).</p>
<p>A single XML file defines a <code><a class="el" href="classsbb_1_1_simulation.html" title="Collects several variable definitions and which PDFs are evaluated. ">sbb::Simulation</a></code>, a simple collection of random variables together with the specification which variables as used for the output. For example the XML code </p><div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span>?&gt;</div>
<div class="line">&lt;simulation xmlns=<span class="stringliteral">&quot;http://hmatuschek.github.io/stochbb/simulation-0.0.dtd&quot;</span></div>
<div class="line">            xmlns:m=<span class="stringliteral">&quot;http://www.w3.org/1998/Math/MathML&quot;</span>&gt;</div>
<div class="line"></div>
<div class="line"> &lt;var type=<span class="stringliteral">&quot;gamma&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;gamma&quot;</span>&gt;</div>
<div class="line">  &lt;param name=<span class="stringliteral">&quot;k&quot;</span>&gt; &lt;m:cn&gt;5&lt;/m:cn&gt; &lt;/param&gt;</div>
<div class="line">  &lt;param name=<span class="stringliteral">&quot;theta&quot;</span>&gt; &lt;m:cn&gt;30&lt;/m:cn&gt; &lt;/param&gt;</div>
<div class="line"> &lt;/var&gt;</div>
<div class="line"></div>
<div class="line"> &lt;output from=<span class="stringliteral">&quot;0&quot;</span> to=<span class="stringliteral">&quot;100&quot;</span>&gt;</div>
<div class="line">  &lt;var ref=<span class="stringliteral">&quot;gamma&quot;</span>/&gt;</div>
<div class="line"> &lt;/output&gt;</div>
<div class="line"></div>
<div class="line">&lt;/simulation&gt;</div>
</div><!-- fragment --><p> specifies a trivial simulation.</p>
<p>Here a single gamma-distributed random variable is defined. It gets the identifier "gamma". With this identifier, it is possible to refer to the random variable later. The <code>type</code> attribute specifies the type of the random variable. Here the build-in type "gamma" is used, specifying a gamma-distributed random variable. The shape and scale parameters, "k" and "theta", are specified using the "param" elements. The "name" attribute of each param element specified the name of the parameter while its value is given as an MathML child element of the param element.</p>
<p>Finally, the "output" element specifies which random variables are used for output. Each child element of the output element specifies one variable. Either by referencing a previously defined random variable or by specifying the random variable directly. For example, </p><div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span>?&gt;</div>
<div class="line">&lt;simulation xmlns=<span class="stringliteral">&quot;http://hmatuschek.github.io/stochbb/simulation-0.0.dtd&quot;</span></div>
<div class="line">            xmlns:m=<span class="stringliteral">&quot;http://www.w3.org/1998/Math/MathML&quot;</span>&gt;</div>
<div class="line"></div>
<div class="line"> &lt;output from=<span class="stringliteral">&quot;0&quot;</span> to=<span class="stringliteral">&quot;100&quot;</span>&gt;</div>
<div class="line">  &lt;var type=<span class="stringliteral">&quot;gamma&quot;</span>&gt;</div>
<div class="line">   &lt;param name=<span class="stringliteral">&quot;k&quot;</span>&gt; &lt;m:cn&gt;5&lt;/m:cn&gt; &lt;/param&gt;</div>
<div class="line">   &lt;param name=<span class="stringliteral">&quot;theta&quot;</span>&gt; &lt;m:cn&gt;30&lt;/m:cn&gt; &lt;/param&gt;</div>
<div class="line">  &lt;/var&gt;</div>
<div class="line"> &lt;/output&gt;</div>
<div class="line"></div>
<div class="line">&lt;/simulation&gt;</div>
</div><!-- fragment --><p> is fully equivalent to the previous example.</p>
<h1><a class="anchor" id="xmlrvs"></a>
Build-in random variables</h1>
<p>There are only very few build-in random variable types. They can be devided into two groups: atomic and derived random variables.</p>
<h2><a class="anchor" id="xmlatomic"></a>
Atomic random variables</h2>
<p>Atomic random variables are RVs which follow a specific distribution and are independent from any other RV defined.</p>
<table class="doxtable">
<tr>
<th>Type </th><th>Parameters </th><th>Process description  </th></tr>
<tr>
<td><code>delta</code> </td><td>delay </td><td>A constant delay or a process with a fixed waiting time. </td></tr>
<tr>
<td><code>uniform</code> </td><td>a, b </td><td>A process with a uniform-distributed waiting time. </td></tr>
<tr>
<td><code>normal</code> </td><td>mu, sigma </td><td>A process with a normal-distributed waiting. </td></tr>
<tr>
<td><code>gamma</code> </td><td>k, theta </td><td>A process with a gamma-distributed waiting time. </td></tr>
</table>
<p>Beside these atomic random variables, there are derived random variables which depend on other RVs. Hence they usually to not taks simple parameters as arguments but other random variables.</p>
<h2><a class="anchor" id="xmlchain"></a>
Chains of random variables.</h2>
<p>One of the most important derived random variable is a chain. A chain can be defined as </p><div class="fragment"><div class="line">&lt;var type=<span class="stringliteral">&quot;chain&quot;</span>&gt;</div>
<div class="line"> &lt;var ref=<span class="stringliteral">&quot;X1&quot;</span>/&gt; &lt;var ref=<span class="stringliteral">&quot;X2&quot;</span>/&gt; &lt;var ref=<span class="stringliteral">&quot;X2&quot;</span>/&gt;</div>
<div class="line">&lt;/var&gt;</div>
</div><!-- fragment --><p> Here the random variable X1, X2 and X3 are chained. This means, for example, that X1 triggers X2 and X2 then triggers the process X3. Mathematically, the waiting time of the chain is simply the sum of the waiting times of the processes X1-X3.</p>
<h2><a class="anchor" id="xmlmax"></a>
Maximum of parallel processes</h2>
<p>Another derived random variable is the "maximum" type. This type can be interpreted as a processes that waits until all referred parallel processes are completed hence the waiting time of </p><div class="fragment"><div class="line">&lt;var type=<span class="stringliteral">&quot;maximum&quot;</span>&gt;</div>
<div class="line"> &lt;var ref=<span class="stringliteral">&quot;X1&quot;</span>/&gt; &lt;var ref=<span class="stringliteral">&quot;X2&quot;</span>/&gt; &lt;var ref=<span class="stringliteral">&quot;X2&quot;</span>/&gt;</div>
<div class="line">&lt;/var&gt;</div>
</div><!-- fragment --><p> is just the maximum of the random variables X1-X3.</p>
<h2><a class="anchor" id="xmlmin"></a>
Minimum of parallel processes</h2>
<p>Likewise, the "minimum" derived random variable is simply the minimum of the referred random variables and represents the waiting time of the fastest parallel processes X1-X3: </p><div class="fragment"><div class="line">&lt;var type=<span class="stringliteral">&quot;minimum&quot;</span>&gt;</div>
<div class="line"> &lt;var ref=<span class="stringliteral">&quot;X1&quot;</span>/&gt; &lt;var ref=<span class="stringliteral">&quot;X2&quot;</span>/&gt; &lt;var ref=<span class="stringliteral">&quot;X2&quot;</span>/&gt;</div>
<div class="line">&lt;/var&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="xmlmix"></a>
Mixture of processes</h2>
<p>The mixuture of random variables is defined using the "mixture" variable type with a list of weight-variable paris. For example </p><div class="fragment"><div class="line">&lt;var type=<span class="stringliteral">&quot;mixture&quot;</span>&gt;</div>
<div class="line"> &lt;weight&gt; &lt;m:cn&gt;1&lt;/m:cn&gt; &lt;var ref=<span class="stringliteral">&quot;X1&quot;</span>/&gt; &lt;/weight&gt;</div>
<div class="line"> &lt;weight&gt; &lt;m:cn&gt;2&lt;/m:cn&gt; &lt;var ref=<span class="stringliteral">&quot;X2&quot;</span>/&gt; &lt;/weight&gt;</div>
<div class="line"> &lt;weight&gt; &lt;m:cn&gt;1&lt;/m:cn&gt; &lt;var ref=<span class="stringliteral">&quot;X3&quot;</span>/&gt; &lt;/weight&gt;</div>
<div class="line">&lt;/var&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="xmluserrv"></a>
User defined random variable types</h1>
<p>The limited build-in random variable type would turn the definition of complex stationary random processess difficult. Hence it is possible to define new typed derived from the build-in ones. For example </p><div class="fragment"><div class="line">&lt;define <span class="keywordtype">id</span>=<span class="stringliteral">&quot;exp&quot;</span>&gt;</div>
<div class="line"> &lt;param <span class="keywordtype">id</span>=<span class="stringliteral">&quot;lambda&quot;</span>/&gt;</div>
<div class="line"></div>
<div class="line"> &lt;var type=<span class="stringliteral">&quot;gamma&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;exp&quot;</span>&gt;</div>
<div class="line">  &lt;param name=<span class="stringliteral">&quot;k&quot;</span>&gt;&lt;m:cn&gt;1&lt;/m:cn&gt;&lt;/param&gt;</div>
<div class="line">  &lt;param name=<span class="stringliteral">&quot;theta&quot;</span>&gt;</div>
<div class="line">   &lt;m:apply&gt;</div>
<div class="line">    &lt;m:divide/&gt;</div>
<div class="line">    &lt;m:cn&gt;1&lt;/m:cn&gt;</div>
<div class="line">    &lt;m:ci&gt;lambda&lt;/m:ci&gt;</div>
<div class="line">   &lt;/m:apply&gt;</div>
<div class="line">  &lt;/param&gt;</div>
<div class="line"> &lt;/var&gt;</div>
<div class="line">&lt;/define&gt;</div>
</div><!-- fragment --><p> defines a new type "exp" as a special case of the Gamma distribution as <img class="formulaInl" alt="$Exp(\lambda) = \Gamma(1,\lambda^{-1}$" src="form_17.png"/>. The define takes an "id" attribute specifying the new type ID. Then one ore more "param" elments are used to define the paramters of the new type. Here only one parameter named "lambda" is defined. Finally a random variable with the same identifier as the type name is defined which implements the derived random variable type.</p>
<p>A more complex example might by </p><div class="fragment"><div class="line">&lt;define <span class="keywordtype">id</span>=<span class="stringliteral">&quot;exgauss&quot;</span>&gt;</div>
<div class="line"> &lt;param <span class="keywordtype">id</span>=<span class="stringliteral">&quot;lambda&quot;</span>&gt;</div>
<div class="line"> &lt;param <span class="keywordtype">id</span>=<span class="stringliteral">&quot;mu&quot;</span>/&gt;</div>
<div class="line"> &lt;param <span class="keywordtype">id</span>=<span class="stringliteral">&quot;sigma&quot;</span>/&gt;</div>
<div class="line"></div>
<div class="line"> &lt;var type=<span class="stringliteral">&quot;gamma&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;ex&quot;</span>&gt;</div>
<div class="line">  &lt;param name=<span class="stringliteral">&quot;k&quot;</span>&gt;&lt;m:cn&gt;1&lt;/m:cn&gt;&lt;/param&gt;</div>
<div class="line">  &lt;param name=<span class="stringliteral">&quot;theta&quot;</span>&gt;</div>
<div class="line">   &lt;m:apply&gt;</div>
<div class="line">    &lt;m:divide/&gt;</div>
<div class="line">    &lt;m:cn&gt;1&lt;/m:cn&gt;</div>
<div class="line">    &lt;m:ci&gt;lambda&lt;/m:ci&gt;</div>
<div class="line">   &lt;/m:apply&gt;</div>
<div class="line">  &lt;/param&gt;</div>
<div class="line"> &lt;/var&gt;</div>
<div class="line"></div>
<div class="line"> &lt;var type=<span class="stringliteral">&quot;normal&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;gauss&quot;</span>&gt;</div>
<div class="line">  &lt;param name=<span class="stringliteral">&quot;mu&quot;</span>&gt; &lt;m:ci&gt;mu&lt;/m:ci&gt; &lt;/param&gt;</div>
<div class="line">  &lt;param name=<span class="stringliteral">&quot;sigma&quot;</span>&gt; &lt;m:ci&gt;sigma&lt;/m:ci&gt; &lt;/param&gt;</div>
<div class="line"> &lt;/var&gt;</div>
<div class="line"></div>
<div class="line"> &lt;var type=<span class="stringliteral">&quot;chain&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;exgauss&quot;</span>&gt;</div>
<div class="line">   &lt;var ref=<span class="stringliteral">&quot;ex&quot;</span>/&gt; &lt;var ref=<span class="stringliteral">&quot;gauss&quot;</span>/&gt;</div>
<div class="line"> &lt;/var&gt;</div>
<div class="line">&lt;/define&gt;</div>
</div><!-- fragment --><p> This defines a new random variable type with an Ex-Gauss distribution by chaining a exponential (defined as a specialcase of the Gamma distribution) and a guassian distributed random process. This new type can then be used to instantiate Ex-Gauss distributed random varaibles. </p><div class="fragment"><div class="line">&lt;var type=<span class="stringliteral">&quot;exgauss&quot;</span>&gt;</div>
<div class="line"> &lt;param name=<span class="stringliteral">&quot;lambda&quot;</span>&gt; &lt;m:cn&gt;10&lt;/m:cn&gt; &lt;/param&gt;</div>
<div class="line"> &lt;param name=<span class="stringliteral">&quot;mu&quot;</span>&gt; &lt;m:cn&gt;20&lt;/m:cn&gt; &lt;/param&gt;</div>
<div class="line"> &lt;param name=<span class="stringliteral">&quot;sigma&quot;</span>&gt; &lt;m:cn&gt;10&lt;/m:cn&gt; &lt;/param&gt;</div>
<div class="line">&lt;/var&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="xmlmod"></a>
Modules</h1>
<p>Some of the aforementioned user defined random variable types may be reused in several simulations. For these cases it is convenient to export these definitions into separate files and load them when needed. These files are called modules and form simple collections of variable type definitions. For example a module could look like </p><div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span>?&gt;</div>
<div class="line">&lt;module xmlns=<span class="stringliteral">&quot;http://hmatuschek.github.io/stochbb/module-0.0.dtd&quot;</span></div>
<div class="line">            xmlns:m=<span class="stringliteral">&quot;http://www.w3.org/1998/Math/MathML&quot;</span>&gt;</div>
<div class="line"></div>
<div class="line">&lt;define <span class="keywordtype">id</span>=<span class="stringliteral">&quot;type&quot;</span>&gt;</div>
<div class="line"> ...</div>
<div class="line">&lt;/define&gt;</div>
<div class="line">&lt;/module&gt;</div>
</div><!-- fragment --><p> Within the body of the module, the user defined types can be spcified. Such a module can then be loaded using the "load" tag within a simulation. Please note that it is also possible to load other modules from within a module. </p><div class="fragment"><div class="line">&lt;simulation xmlns=<span class="stringliteral">&quot;http://hmatuschek.github.io/stochbb/simulation-0.0.dtd&quot;</span></div>
<div class="line">            xmlns:m=<span class="stringliteral">&quot;http://www.w3.org/1998/Math/MathML&quot;</span>&gt;</div>
<div class="line"></div>
<div class="line"> &lt;load&gt;FILENAME_W/O_EXTENSION&lt;/load&gt;</div>
<div class="line"></div>
<div class="line"> &lt;output ...&gt;</div>
<div class="line">   ...</div>
<div class="line"> &lt;/output&gt;</div>
<div class="line">&lt;/simulation&gt;</div>
</div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Dec 6 2015 23:18:14 for libstochbb - Stochastic Building Blocks by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
