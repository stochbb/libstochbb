<?xml version="1.0"?>

<simulation xmlns="http://github.com/hmatuschek/stochbb">
 <!-- Stimulus at t=0 -->
 <var id="stimulus" type="delta">
  <param name="delay">0</param>
 </var>

 <!-- A fixed processing delay of 100ms -->
 <var id="fixed_delay" type="delta">
  <param name="delay">100</param>
 </var>

 <!-- Processes the stimulus -->
 <var id="process" type="gamma">
  <param name="k">10</param>
  <param name="theta">50</param>
 </var>

 <!-- Assemble the processing chain, result is "response" RV -->
 <var id="response" type="chain">
  <ref>stimulus</ref>     <!-- stimulus tiggers delay//-->
  <ref>fixed_delay</ref>  <!-- delay triggers process //-->
  <ref>process</ref>      <!-- process tiggers noise //-->
  <!-- Some additional noise -->
  <var id="noise" type="gamma">
   <param name="k">3</param>
   <param name="theta">10</param>
  </var>
 </var>

 <!-- Evaluate the PDF of the response as the output -->
 <output from="0" to="700" steps="1000">
  <pdf><ref>response</ref></pdf>
  <pdf><ref>process</ref></pdf>
  <pdf><ref>noise</ref></pdf>
 </output>
</simulation>
